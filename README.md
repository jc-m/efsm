### Simple prototype of an event driven FSM